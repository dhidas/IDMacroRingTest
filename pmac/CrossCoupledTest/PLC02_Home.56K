; Created by PMAC Win32 Driver from:\\psf\Home\Desktop\IDMacroRingTest\pmac\LinearEncoderTest\PLC02_Home.pmc
;
;\\psf\Home\Desktop\IDMacroRingTest\pmac\LinearEncoderTest\PLC02_Home.pmc
P200 = 0;3
P201 = 0;6
OPEN PLC 2 CLEAR;8
P200 = 0;12
P201 = 1;15
P210=I114       ;18
P211=I514       ;19
P212=I7012      ;20
P213=I7112      ;21
P214=I7013      ;23
P215=I7113      ;24
P216=I123       ;25
P217=I523       ;26
P218=I126       ;27
P219=I526       ;28
P220=I124       ;30
P221=I524       ;31
I114=0          ;34
I514=0          ;35
I7012=2         ;36
I7112=2         ;37
I7013=1         ;38
I7113=1         ;39
I123=-ABS(I123) ;40
I523=-ABS(I523) ;41
I126=0    ;42
I526=0    ;43
I124=$820401    ;44
I524=$820401    ;45
CMD"#1$";49
CMD"#2$";50
CMD"#5$";51
CMD"#6$";52
I5111 = 200 * 8388608/I10 WHILE(I5111 > 0)ENDW;53
I124=P220       ;56
I524=P221       ;57
IF (P201=1);61
  M145=0    ;63
  M545=0    ;64
  ;69
  IF (P201=1);70
    CMD "#1j:200000#5j:200000"    ;71
    I5111 = 20 * 8388608/I10 ;72
    WHILE (I5111 > 0);73
    ENDW;74
    I5111 = 60000 * 8388608/I10 ;76
    WHILE (M140=0) ;77
    AND (M142=0) ;78
    AND (I5111 > 0) ;79
    AND (P201 = 1) ;80
    ENDW;81
    WHILE (M540=0) ;83
    AND (M542=0) ;84
    AND (I5111 > 0) ;85
    AND (P201 = 1) ;86
    ENDW;87
    ;90
    IF (M142=1) ;91
    OR (M542=1);92
      P201 = 4;93
    ENDIF;94
    IF (I5111<0 OR I5111=0) ;95
      P201 = 31;96
    ENDIF;97
  ENDIF;98
  ;100
  IF (P201=1);101
    CMD "#1hm #5hm"    ;102
    ;103
    I5111 = 20 * 8388608/I10 ;104
    WHILE (I5111 > 0);105
    ENDW;106
    ;108
    I5111 = 60000 * 8388608/I10;109
    WHILE (M140=0) ;111
    AND (M142=0) ;112
    AND (I5111 > 0) ;113
    AND (P201 = 1) ;114
    ENDW;115
    WHILE (M540=0) ;117
    AND (M542=0) ;118
    ;119
    AND (P201 = 1) ;120
    ENDW;121
    ;123
    IF (M142=1) ;124
    OR (M542=1);125
      P201 = 4;126
    ENDIF;127
    IF (I5111<0 OR I5111=0) ;128
      P201 = 32;129
    ENDIF;130
  ENDIF;131
  ;134
  IF (P201=1);135
    ;137
    I5111 = 1000 * 8388608/I10 ;138
    WHILE (I5111 > 0);139
    ENDW;140
    CMD"#1j:1500000 #5j:1500000";142
    ;144
    I5111 = 20 * 8388608/I10 ;145
    WHILE (I5111 > 0);146
    ENDW;147
    I5111 = 60000 * 8388608/I10 ;149
    WHILE (M140=0) ;150
    AND (M142=0) ;151
    AND (M130=0) ;152
    AND (I5111 > 0) ;153
    AND (P201 = 1) ;154
    ENDW;155
    WHILE (M540=0) ;157
    AND (M542=0) ;158
    AND (M530=0) ;159
    AND (I5111 > 0) ;160
    AND (P201 = 1) ;161
    ENDW;162
    ;165
    IF (M142=1) ;166
    OR (M542=1);167
      P201 = 4;168
    ENDIF;169
    IF (M130=1) ;170
    OR (M530=1);171
      P201 = 5;172
    ENDIF;173
    IF (I5111<0 OR I5111=0) ;174
      P201 = 33;175
    ENDIF;176
  ENDIF;177
ENDIF;178
IF (P201 = 1);181
  ;182
  P201=0;183
  P200=7;184
ENDIF;185
IF (M142=0);190
  CMD"#1hmz #2hmz";191
  I5112 = 20 * 8388608/I10 ;192
  WHILE (I5112 > 0);193
  ENDW;194
  ;195
  ;196
  ;197
  ;198
ENDIF;199
IF (M542=0);200
  CMD"#5hmz #6hmz";201
  I5112 = 20 * 8388608/I10 ;202
  WHILE (I5112 > 0);203
  ENDW;204
  ;205
  ;206
  ;207
  ;208
ENDIF;209
I5111 = 500 * 8388608/I10 ;211
WHILE (I5111 > 0);212
ENDW;213
I114=P210;216
I114 = P210;218
I514 = P211;219
I7012= P212;220
I7022= P213;221
I7013= P214;222
I7023= P215;223
I123 = P216;224
I523 = P217;225
I126 = P218;226
I526 = P219;227
DIS PLC 2;231
CLOSE;232
CLOSE
