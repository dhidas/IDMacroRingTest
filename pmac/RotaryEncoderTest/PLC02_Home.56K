; Created by PMAC Win32 Driver from:C:\Users\dhidas\Dropbox\IDMacroRingTest\pmac\RotaryEncoderTest\PLC02_Home.pmc
;
;C:\Users\dhidas\Dropbox\IDMacroRingTest\pmac\RotaryEncoderTest\PLC02_Home.pmc
P200 = 0;3
P201 = 0;6
OPEN PLC 2 CLEAR;8
P1234=1;10
P200 = 0;13
P201 = 1;16
P210=I114       ;19
P211=I514       ;20
P212=I7012      ;21
P213=I7112      ;22
P214=I7013      ;24
P215=I7113      ;25
P216=I123       ;26
P217=I523       ;27
P218=I126       ;28
P219=I526       ;29
P220=I124       ;31
P221=I524       ;32
I114=0          ;35
I514=0          ;36
I7012=2         ;37
I7112=2         ;38
I7013=1         ;39
I7113=1         ;40
I123=-ABS(I123) ;41
I523=-ABS(I223) ;42
I126=0    ;43
I526=0    ;44
I124=$820401    ;45
I524=$820401    ;46
CMD"#1$";50
CMD"#2$";51
CMD"#5$";52
CMD"#6$";53
I5111 = 200 * 8388608/I10 WHILE(I5111 > 0)ENDW;54
I124=P220       ;57
I524=P221       ;58
P1234=2;61
IF (P201=1);63
  M145=0    ;65
  M545=0    ;66
  ;71
  IF (P201=1);72
    CMD "#1j:200000#5j:200000"    ;73
    I5111 = 20 * 8388608/I10 ;74
    WHILE (I5111 > 0);75
    ENDW;76
    I5111 = 60000 * 8388608/I10 ;78
    WHILE (M140=0) ;79
    AND (M142=0) ;80
    AND (I5111 > 0) ;81
    AND (P201 = 1) ;82
    ENDW;83
    WHILE (M540=0) ;85
    AND (M542=0) ;86
    AND (I5111 > 0) ;87
    AND (P201 = 1) ;88
    ENDW;89
    ;92
    IF (M142=1) ;93
    OR (M542=1);94
      P201 = 4;95
    ENDIF;96
    IF (I5111<0 OR I5111=0) ;97
      P201 = 31;98
    ENDIF;99
  ENDIF;100
P1234=3;101
  ;103
  IF (P201=1);104
    CMD "#1hm #5hm"    ;105
    ;106
    I5111 = 20 * 8388608/I10 ;107
    WHILE (I5111 > 0);108
    ENDW;109
    ;111
    I5111 = 60000 * 8388608/I10;112
    WHILE (M140=0) ;114
    AND (M142=0) ;115
    AND (I5111 > 0) ;116
    AND (P201 = 1) ;117
    ENDW;118
    WHILE (M540=0) ;120
    AND (M542=0) ;121
    ;122
    AND (P201 = 1) ;123
    ENDW;124
    ;126
    IF (M142=1) ;127
    OR (M542=1);128
      P201 = 4;129
    ENDIF;130
    IF (I5111<0 OR I5111=0) ;131
      P201 = 32;132
    ENDIF;133
  ENDIF;134
P1234=4;136
  ;138
  IF (P201=1);139
    ;141
    I5111 = 1000 * 8388608/I10 ;142
    WHILE (I5111 > 0);143
    ENDW;144
    CMD"#1j:1500000 #5j:1500000";146
    ;148
    I5111 = 20 * 8388608/I10 ;149
    WHILE (I5111 > 0);150
    ENDW;151
    I5111 = 60000 * 8388608/I10 ;153
    WHILE (M140=0) ;154
    AND (M142=0) ;155
    AND (M130=0) ;156
    AND (I5111 > 0) ;157
    AND (P201 = 1) ;158
    ENDW;159
    WHILE (M540=0) ;161
    AND (M542=0) ;162
    AND (M530=0) ;163
    AND (I5111 > 0) ;164
    AND (P201 = 1) ;165
    ENDW;166
    ;169
    IF (M142=1) ;170
    OR (M542=1);171
      P201 = 4;172
    ENDIF;173
    IF (M130=1) ;174
    OR (M530=1);175
      P201 = 5;176
    ENDIF;177
    IF (I5111<0 OR I5111=0) ;178
      P201 = 33;179
    ENDIF;180
  ENDIF;181
ENDIF;182
P1234=5;184
IF (P201 = 1);186
  ;187
  P201=0;188
  P200=7;189
ENDIF;190
IF (M142=0);195
  CMD"#1hmz #2hmz";196
  I5112 = 20 * 8388608/I10 ;197
  WHILE (I5112 > 0);198
  ENDW;199
  ;200
  ;201
  ;202
  ;203
ENDIF;204
IF (M542=0);205
  CMD"#5hmz #6hmz";206
  I5112 = 20 * 8388608/I10 ;207
  WHILE (I5112 > 0);208
  ENDW;209
  ;210
  ;211
  ;212
  ;213
ENDIF;214
I5111 = 500 * 8388608/I10 ;216
WHILE (I5111 > 0);217
ENDW;218
I114=P210;221
I114 = P210;223
I214 = P211;224
I7012= P212;225
I7022= P213;226
I7013= P214;227
I7023= P215;228
I123 = P216;229
I223 = P217;230
I126 = P218;231
I226 = P219;232
DIS PLC 2;236
CLOSE;237
CLOSE
