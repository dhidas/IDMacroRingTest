; Created by PMAC Win32 Driver from:C:\Users\dhidas\Dropbox\IDMacroRingTest\pmac\RotaryEncoderTest\PLC02_Home.pmc
;
;C:\Users\dhidas\Dropbox\IDMacroRingTest\pmac\RotaryEncoderTest\PLC02_Home.pmc
P200 = 0;3
P201 = 0;6
Open PLC 2 Clear;8
P1234=1;10
P200 = 0;13
P201 = 1;16
P210=I114       ;19
P211=I514       ;20
P212=I7012      ;21
P213=I7112      ;22
P214=I7013      ;24
P215=I7113      ;25
P216=I123       ;26
P217=I523       ;27
P218=I126       ;28
P219=I526       ;29
P220=I124       ;31
P221=I524       ;32
I114=0          ;35
I514=0          ;36
I7012=2         ;37
I7112=2         ;38
I7013=1         ;39
I7113=1         ;40
I123=-ABS(I123) ;41
I523=-ABS(I223) ;42
I126=0    ;43
I526=0    ;44
I124=$820401    ;45
I524=$820401    ;46
CMD"#1$";50
CMD"#2$";51
CMD"#5$";52
CMD"#6$";53
I5111 = 200 * 8388608/I10 While(I5111 > 0)EndW;54
I124=P220       ;57
I524=P221       ;58
P1234=2;61
if (P201=1);63
  M145=0    ;65
  M545=0    ;66
  ;71
  if (P201=1);72
    CMD "#1j:200000#5j:200000"    ;73
    I5111 = 20 * 8388608/I10 ;74
    while (I5111 > 0);75
    endw;76
    I5111 = 60000 * 8388608/I10 ;78
    while (M140=0) ;79
    and (M142=0) ;80
    and (I5111 > 0) ;81
    and (P201 = 1) ;82
    endw;83
    while (M540=0) ;85
    and (M542=0) ;86
    and (I5111 > 0) ;87
    and (P201 = 1) ;88
    endw;89
    ;92
    if (M142=1) ;93
    or (M542=1);94
      P201 = 4;95
    endif;96
    if (I5111<0 or I5111=0) ;97
      P201 = 31;98
    endif;99
  endif;100
P1234=3;101
  ;103
  if (P201=1);104
    CMD "#1hm #5hm"    ;105
    ;106
    I5111 = 20 * 8388608/I10 ;107
    while (I5111 > 0);108
    endw;109
    ;111
    I5111 = 60000 * 8388608/I10;112
    while (M140=0) ;114
    and (M142=0) ;115
    and (I5111 > 0) ;116
    and (P201 = 1) ;117
    endw;118
    while (M540=0) ;120
    and (M542=0) ;121
    ;122
    and (P201 = 1) ;123
    endw;124
    ;126
    if (M142=1) ;127
    or (M542=1);128
      P201 = 4;129
    endif;130
    if (I5111<0 or I5111=0) ;131
      P201 = 32;132
    endif;133
  endif;134
P1234=4;136
  ;138
  if (P201=1);139
    ;141
    I5111 = 1000 * 8388608/I10 ;142
    while (I5111 > 0);143
    endw;144
    CMD"#1j:1500000 #5j:1500000";146
    ;148
    I5111 = 20 * 8388608/I10 ;149
    while (I5111 > 0);150
    endw;151
    I5111 = 60000 * 8388608/I10 ;153
    while (M140=0) ;154
    and (M142=0) ;155
    and (M130=0) ;156
    and (I5111 > 0) ;157
    and (P201 = 1) ;158
    endw;159
    while (M540=0) ;161
    and (M542=0) ;162
    and (M530=0) ;163
    and (I5111 > 0) ;164
    and (P201 = 1) ;165
    endw;166
    ;169
    if (M142=1) ;170
    or (M542=1);171
      P201 = 4;172
    endif;173
    if (M130=1) ;174
    or (M530=1);175
      P201 = 5;176
    endif;177
    if (I5111<0 or I5111=0) ;178
      P201 = 33;179
    endif;180
  endif;181
endif;182
P1234=5;184
if (P201 = 1);186
  ;187
  P201=0;188
  P200=7;189
endif;190
if (M142=0);195
  CMD"#1hmz #2hmz";196
  I5112 = 20 * 8388608/I10 ;197
  while (I5112 > 0);198
  endw;199
  ;200
  ;201
  ;202
  ;203
endif;204
if (M542=0);205
  CMD"#5hmz #6hmz";206
  I5112 = 20 * 8388608/I10 ;207
  while (I5112 > 0);208
  endw;209
  ;210
  ;211
  ;212
  ;213
endif;214
I5111 = 500 * 8388608/I10 ;216
while (I5111 > 0);217
endw;218
I114=P210;221
I114 = P210;223
I214 = P211;224
I7012= P212;225
I7022= P213;226
I7013= P214;227
I7023= P215;228
I123 = P216;229
I223 = P217;230
I126 = P218;231
I226 = P219;232
Dis PLC 2;236
Close;237
CLOSE
